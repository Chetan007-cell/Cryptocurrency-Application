<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Crypto Price Tracker</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #ccc;
    }

    .main {
      border: 1px solid #ccc;
      border-radius: 4px;
      padding: 10px;
      margin-bottom: 10px;
      background-color: #f9f9f9;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .result {
      border: 1px solid #ccc;
      border-radius: 4px;
      padding: 10px;
      margin-bottom: 10px;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      transition: transform 0.2s ease-in-out;
    }
  </style>
</head>
<body>
  <header class="bg-dark text-white p-4">
    <div class="container">
      <h1 class="text-center mb-0">Crypto Price Tracker</h1>
      <input type="text" id="search" class="form-control mt-3" placeholder="Search for a cryptocurrency">
    </div>
  </header>
  <main class="py-4">
    <div class="container" id="results">
      <!-- Results will be displayed here -->
    </div>
  </main>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <!-- Include React and ReactDOM scripts -->
  <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>

  <script>
    // React component for fetching and displaying cryptocurrency data
    class CryptoSearch extends React.Component {
      constructor(props) {
        super(props);
        this.state = {
          searchTerm: '',
          results: [],
        };
      }

      componentDidMount() {
        this.fetchCryptoData();
      }

      fetchCryptoData = () => {
        const { searchTerm } = this.state;
        const apiURL = 'https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd';

        fetch(apiURL)
          .then(response => response.json())
          .then(data => {
            const filteredResults = data.filter(coin =>
              coin.name.toLowerCase().includes(searchTerm.toLowerCase())
            );
            this.setState({ results: filteredResults });
          })
          .catch(error => {
            console.error('Error fetching data:', error);
          });
      };

      handleInputChange = event => {
        this.setState({ searchTerm: event.target.value }, () => {
          this.fetchCryptoData();
        });
      };

      render() {
        const { results } = this.state;

        return (
          <div>
            <input
              type="text"
              id="search"
              className="form-control mt-3"
              placeholder="Search for a cryptocurrency"
              onChange={this.handleInputChange}
            />
            <div id="results">
              {results.map(coin => (
                <div key={coin.id} className="result">
                  <h2>{coin.name}</h2>
                  <p>Price: ${coin.current_price}</p>
                </div>
              ))}
            </div>
          </div>
        );
      }
    }

    // Render the React app component into the 'results' div
    ReactDOM.render(<CryptoSearch />, document.getElementById('results'));
  </script>
</body>
</html>
